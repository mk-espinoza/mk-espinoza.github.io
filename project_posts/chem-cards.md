---
layout: default
title: Chem Cards
parent: Projects
nav_order: 1
---

## Chem Cards is an educational augmented reality application that can display 3D models of chemical molecules with informational trading cards.
----

## Purpose

### Why did I build this application?
I wanted to create a gift related to her growing interest in organic chemistry for my best friend's upcoming birthday, . 

At the same time, I was exploring how AR (Augmented Reality) can be utilized for educational purposes, like displaying 3D models of the human body and cells.

To solidify the concepts I've been learning about AR development, I decided to develop an application that my friend could use to visualize 3D molecules.

## The Trading Cards
The set of trading cards is custom-designed with either the chemical structure of an organic component or their origin (i.e. common household items).

![[trading_cards.png]]

## The AR Application
With my set of trading cards, I can use my application to view a 3D model of a molecule using my iPad devise.

![[IMG_0099.png]]



# Demonstrations

## Full Walkthrough
![[RPReplay_Final1692541172.mov]]

## Menu UI
![[RPReplay_Final1692553854.mov]]
*Main Menu Interaction*

## AR Mode
*add image 6*

## Digital Molecule Models
<div class="sketchfab-embed-wrapper"> <iframe title="Cinnamaldehyde" frameborder="0" allowfullscreen mozallowfullscreen="true" webkitallowfullscreen="true" allow="autoplay; fullscreen; xr-spatial-tracking" xr-spatial-tracking execution-while-out-of-viewport execution-while-not-rendered web-share src="https://sketchfab.com/models/c83ac7542b9e4d49ac6aed79c18a11a5/embed"> </iframe> <p style="font-size: 13px; font-weight: normal; margin: 5px; color: #4A4A4A;"> <a href="https://sketchfab.com/3d-models/cinnamaldehyde-c83ac7542b9e4d49ac6aed79c18a11a5?utm_medium=embed&utm_campaign=share-popup&utm_content=c83ac7542b9e4d49ac6aed79c18a11a5" target="_blank" rel="nofollow" style="font-weight: bold; color: #1CAAD9;"> Cinnamaldehyde </a> by <a href="https://sketchfab.com/mk_espinoza?utm_medium=embed&utm_campaign=share-popup&utm_content=c83ac7542b9e4d49ac6aed79c18a11a5" target="_blank" rel="nofollow" style="font-weight: bold; color: #1CAAD9;"> mk_espinoza </a> on <a href="https://sketchfab.com?utm_medium=embed&utm_campaign=share-popup&utm_content=c83ac7542b9e4d49ac6aed79c18a11a5" target="_blank" rel="nofollow" style="font-weight: bold; color: #1CAAD9;">Sketchfab</a></p></div>
<div class="sketchfab-embed-wrapper"> <iframe title="Ethanol" frameborder="0" allowfullscreen mozallowfullscreen="true" webkitallowfullscreen="true" allow="autoplay; fullscreen; xr-spatial-tracking" xr-spatial-tracking execution-while-out-of-viewport execution-while-not-rendered web-share src="https://sketchfab.com/models/c29e9ff56cd743ba81e456effe80056d/embed?autospin=1"> </iframe> <p style="font-size: 13px; font-weight: normal; margin: 5px; color: #4A4A4A;"> <a href="https://sketchfab.com/3d-models/ethanol-c29e9ff56cd743ba81e456effe80056d?utm_medium=embed&utm_campaign=share-popup&utm_content=c29e9ff56cd743ba81e456effe80056d" target="_blank" rel="nofollow" style="font-weight: bold; color: #1CAAD9;"> Ethanol </a> by <a href="https://sketchfab.com/mk_espinoza?utm_medium=embed&utm_campaign=share-popup&utm_content=c29e9ff56cd743ba81e456effe80056d" target="_blank" rel="nofollow" style="font-weight: bold; color: #1CAAD9;"> mk_espinoza </a> on <a href="https://sketchfab.com?utm_medium=embed&utm_campaign=share-popup&utm_content=c29e9ff56cd743ba81e456effe80056d" target="_blank" rel="nofollow" style="font-weight: bold; color: #1CAAD9;">Sketchfab</a></p></div>

---

# Process

> **Ideation -> Planning -> Designing -> Development + Modeling -> Polishing**

## Ideation

### For Type of AR Method
My proof of concept was an application I had learnt to build in my Udemy course of AR development in Unity:

![[RPReplay_Final1679345024.mov]]

I used AR Foundations and its out-of-the box Image Tracking system to create an app that displayed a model of a dragon on top of a book.

*Disclaimer: The dragon model was downloaded from Unity Asset Store and created by Dungeon Mason*

### For Trading Cards
I remembered how I often used flashcards to recall concepts in chemistry class. I wanted to incorporate that learning technique into my project for my friend's study.

To learn more about organic chemistry and gather ideas for my cards, I watched a video series on Organic Chemistry by Crash Course, an educational YouTube series.

I learned enough to understand that organic compounds can be represented in Lewis structures and are found in everyday foods like vanilla.


## Planning

### Digital Painting Software: Procreate

I picked this tool because it felt more intuitive to use, compared to other art softwares. I drew the centerpieces of the trading cards with this tool.

### 3D Modeling Software: Blender

I choose this tool to practice my 3D modelling skills because it is free and numerous learning resources are available online.

### UX Design: Figma 

I used this tool to improve my workflow for designing the cards. I also used this tool to create mockups and assets for the UI screens.

### IDE and AR Plugin: Unity with AR Foundations

This tool + library was recommended to me because it had an easy-to-use interface for beginners. In addition, this framework was versatile. 

## Designing

### Sketches & Research for Cards

![[research_and_sketch.png]]
I've went through several takes and rough sketches on paper and procreate. These are some of the sketchbook drawings of the cards and the notes I took during when I was learning about organic chemistry.

One of my favorite parts about starting a project is doing the research behind the subject!


### Polished Layout for Cards

![[Front - Cinnamon.png]]
*Front of the trading card with origin of organic chemical compound*

![[Front - Cinnamaldehyde.png]]
*Front of the trading card with organic chemical compound*

![[Back - Main.png]]
*Back of the trading cards*


![[Designs - V3 (for Game Crafters template) 1.png]]
*All 10 cards cards*

### Centerpiece Drawings

I created drawings that felt like they were drawn on the trading cards using pastels:
![[Rectangle 5 (1) 1.png]]


### Rough Mockup of Start Screen

I stuck to simple shapes and used same color palette as the cards to give a clean and cohesive look. This also helped ease the development process.
![[Main Menu.png]]


*My inspiration for the menu mockups is from a video game called, A Little to the Left.*

### Final Screen Designs

I also added three new screens:  a screen for credits, instructions, and level selection. Unfortunately, due to time constraints, I wasn't able to incorporate different levels into this first version of the app. 

All screens are pieced together to make it look like a desk of a student.

![[Whole Page (1).png]]

This decision made my development process easier because I’m able to transition from one screen to another without creating new scenes.

## Development

### Initial Setup

I started with adding the two main game objects in AR Foundations:

- **AR Session**
- **AR Session Origin**

![[Pasted image 20230820151743.png]]

> [!NOTE]
> The **AR Session**  and **AR Session Origin** are both essential, but understanding their responsibilities can be a bit confusing at first.
> 
> From my understanding, the AR Session…
> - Accesses and manages the camera in the device
> - Takes care of the life cycle of the AR experience
> - Uses computer vision to detect objects seen in camera view, and to detect flat surfaces
> - Provides 3D coordinate space that maps the virtual world with the real world (which is pretty cool!)
> 
> One additional responsibility the AR Session is that it…
> - Gives information about virtual object’s placement to the AR Session Origin so that it knows where to render it in the camera view.
> 
> This ties to our other important game object, the AR Session Origin.
> 
> It needs to be places in the root of the object hierarchy in Unity, and it uses the information given by our AR Session to render the virtual object.
> 
> It does this by providing a reference point for the virtual objects to place and anchor in the real world view.  This is where part of the its name “origin” comes into play!
> 
> In short, both game objects are needed to create the seamless illusion that the virtual object is placed in real space!
> 
> Without the AR Session, our application wouldn’t be able to activate the camera, and the placement of the virtual objects wouldn’t be updated correctly as the camera or tracking object moves in real time.
> 
> Without the AR Session Origin, the data gathered by the AR Session wouldn’t be used at all and our virtual object cannot be displayed in our camera view.

### Usage of AR Tracked Image Manager

I added the **AR Tracked Image Manager** to my AR Session Origin to start my development.

This component enables the AR Session Origin to:
- detect image makers in camera view
- track the position of the image markers 
- render and anchor a new game object to the same position and rotation of the detected marker image

I defined the image markers in a **Reference Image Library** object. 

This object contains all the images of my trading cards, along with their physical sizes.

I gave my reference image library to the AR Tracked Image Manager so that it knows which images to find in the camera view.

> [!NOTE]
> The terms **game objects**, **prefabs**, and **components** gets used a lot in this documentation.
> 
> Especially when the term “game object” can be a bit vague in Unity, as it can represent any object in the game hierarchy.
> 
> To clear up any misunderstands, here is how I will refer to the follow terms:
> 
> 
> #### Game Objects
> 
> A game object in my AR scene will be a 3D model of an organic molecule that’s been placed in the game view. 
> 
> ( In actuality, there’s more game objects in my scene. )
> 
> However, for the purpose of this post, I will refer to my 3D models as my game objects for consistency. 
> 
> #### Prefabs
> 
> A prefab is a blueprint for a game object. A prefab can be used to instantiate (aka create) a game object with built-in behaviours and models. 
> 
> I created a prefab for each molecule:
> 
> *add image 24*
> 
> So I will usually be referring to these prefabs throughout the rest of the documentation.
> 
> #### Components
> 
> A component is a class that can modify the behaviour or properties of a game object.
> 
> *add image 25*
> 
> I mentioned some pre-existing components, like the AR Tracked Image Manager. 
> 
> However, I also create my own components to extend the behaviour of my game objects.
> 
> To differentiate between the existing and custom components, I will change the font color of my custom component and their methods to be dark blue.

#### Challenge #1:

The AR Tracked Image Manager can only use one prefab to render game objects on top of the image markers in the camera view.

*add image 26*

Out-of-the-box, I won’t be able to display the correct molecule model to its corresponding image marker (aka the trading cards).

*add image 27*

#### Solution:
Create a new component to extend the functionality of AR Tracked Image Manager! I learned how to do this by a tutorial by Andreas Jakl’s blog on [2D Image Tracking with AR Foundation](https://www.andreasjakl.com/2d-image-tracking-with-ar-foundation-part-4/)

Please read the full tutorial in the link! He does a really great job at explaining how the Tracked Image Manager works in AR Foundations, and he walks through his process of how to code the custom component. 

After I followed his walkthrough, I created the **AR Place Tracked Images** component for my AR Session Origin:
![[Pasted image 20230820153212.png]]

At this state, my AR Session Origin could take in multiple prefabs and associate a marker image to each of them. 

As a result, my AR application could detect a trading card of an organic compound and display the correct molecule.

#### Challenge #2

With the current implementation, I can only display one specific prefab per one marker image.

*add image 37*

Ideally, I want to be multiple markers to be associated to a specific prefab, because I want a molecule to appear for two types of trading cards.

#### Solution

I created a new component for my prefabs so they can manage their own list of marker images.

This  component is called Molecule Controller

*add image 38*

As this addition was not part of the 2D Image Tracking tutorial, I will give a brief description of the development of this class.

### Development of Molecule Controller

In the Molecule Controller, it has an public array called `ImageMarkers`.

As the name suggests, it will store a list of reference images.

![[Pasted image 20230820154553.png]]

Later, when the AR Tracked Image Manager is going through the process of adding a new  

In this process, it will check the `ImageMarkers` for each prefab via a search method called `CheckImageName`.

If it finds the new marker image in one of the prefab’s `ImageMarkers`, then it will use that prefab to create the game object.

*add image 40*

As final result, my AR application can display a specific molecule for multiple cards. 

## Modeling

For my models of molecules, I knew I wanted each atom to be a different color, and that the molecules to look like the classic ball-and-stick model (like the models used in classrooms).


*add image 41*

### Resources

I used a website called [MolView](https://molview.org/) as reference for how a specific organic molecule should appear in 3D. 

I also followed a youtube tutorial by [3D Blender Tutorials by ianscott888](https://youtu.be/MTXQM_Fy5ug) to learn how to create a 3D model of a single molecule.


### Molecule Models

As of today, I created two molecule models in Blender: cinnamaldehyde and ethanol.

*add image 43*

For the color of the atoms, I followed the CPK coloring convention, as most physical molecule models do today.




